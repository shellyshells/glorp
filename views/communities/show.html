{{define "content"}}
<div class="community-container">
    <!-- Community Header -->
    <div class="community-header">
        <div class="community-banner">
            <div class="banner-gradient"></div>
        </div>
        <div class="community-info-section">
            <div class="community-icon-container">
                <div class="community-icon-large">
                    <i class="fas fa-users"></i>
                </div>
            </div>
            
            <div class="community-details">
                <div class="community-names">
                    <h1 class="community-display-name">{{.Community.DisplayName}}</h1>
                    <span class="community-path">r/{{.Community.Name}}</span>
                    <div class="community-badges">
                        <span class="visibility-badge visibility-{{.Community.Visibility}}">
                            {{if eq .Community.Visibility "public"}}<i class="fas fa-globe"></i>{{end}}
                            {{if eq .Community.Visibility "private"}}<i class="fas fa-lock"></i>{{end}}
                            {{if eq .Community.Visibility "restricted"}}<i class="fas fa-shield-alt"></i>{{end}}
                            {{title .Community.Visibility}}
                        </span>
                        {{if eq .Community.JoinApproval "approval_required"}}
                            <span class="approval-badge">
                                <i class="fas fa-user-check"></i> Approval Required
                            </span>
                        {{else if eq .Community.JoinApproval "invite_only"}}
                            <span class="approval-badge">
                                <i class="fas fa-envelope"></i> Invite Only
                            </span>
                        {{end}}
                    </div>
                </div>
                
                {{if .Community.Description}}
                <p class="community-description">{{.Community.Description}}</p>
                {{end}}
                
                <div class="community-metadata">
                    <div class="community-meta-item">
                        <i class="fas fa-users"></i>
                        <span>{{.Community.MemberCount}} {{pluralize .Community.MemberCount "member" "members"}}</span>
                    </div>
                    <div class="community-meta-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Created {{timeAgo .Community.CreatedAt}}</span>
                    </div>
                    <div class="community-meta-item">
                        <i class="fas fa-user-crown"></i>
                        <span>Created by <a href="/user/{{.Community.Creator.Username}}" class="creator-link">u/{{.Community.Creator.Username}}</a></span>
                    </div>
                </div>
            </div>
            
            <div class="community-actions">
                {{if .User}}
                    {{if .Community.UserRole}}
                        <div class="member-status">
                            <span class="member-badge member-{{.Community.UserRole}}">
                                <i class="fas fa-check"></i> {{title .Community.UserRole}}
                            </span>
                            {{if ne .Community.UserRole "creator"}}
                                <button class="btn btn-outline btn-sm" onclick="leaveCommunity('{{.Community.ID}}')">
                                    <i class="fas fa-sign-out-alt"></i> Leave
                                </button>
                            {{end}}
                        </div>
                    {{else if .Community.JoinRequested}}
                        <div class="join-status">
                            <span class="pending-badge">
                                <i class="fas fa-clock"></i> Request Pending
                            </span>
                        </div>
                    {{else}}
                        <button class="btn btn-primary" onclick="joinCommunity('{{.Community.ID}}')">
                            {{if eq .Community.JoinApproval "open"}}
                                <i class="fas fa-plus"></i> Join
                            {{else}}
                                <i class="fas fa-paper-plane"></i> Request to Join
                            {{end}}
                        </button>
                    {{end}}
                    
                    {{if or (eq .Community.UserRole "creator") (eq .Community.UserRole "admin") (eq .Community.UserRole "moderator")}}
                        <a href="/r/{{.Community.Name}}/manage" class="btn btn-outline">
                            <i class="fas fa-cog"></i> Manage
                        </a>
                    {{end}}
                {{else}}
                    <div class="auth-prompt">
                        <a href="/login" class="btn btn-outline">Log In to Join</a>
                    </div>
                {{end}}
            </div>
        </div>
    </div>

    <!-- Community Content -->
    <div class="community-content">
        <div class="community-main">
            <!-- Create Post Section -->
            {{if .User}}
                {{if or (eq .Community.UserRole "creator") (eq .Community.UserRole "admin") (eq .Community.UserRole "moderator") (eq .Community.UserRole "member") (eq .Community.Visibility "public")}}
                <div class="create-post-section">
                    <a href="/threads/create?community={{.Community.Name}}" class="create-post-link">
                        <div class="user-avatar-small {{getAvatarClass (getAvatarStyle .User)}}">
                            {{if .User.AvatarURL}}
                                <img src="{{.User.AvatarURL}}" alt="{{.User.Username}}" class="avatar-img">
                            {{else}}
                                <span class="avatar-initial">{{getUserInitial .User}}</span>
                            {{end}}
                        </div>
                        <span class="create-post-text">Create a post in r/{{.Community.Name}}</span>
                        <i class="fas fa-plus"></i>
                    </a>
                </div>
                {{end}}
            {{end}}

            <!-- Posts Filter -->
            <div class="posts-filter">
                <div class="filter-tabs">
                    <button class="filter-tab active" data-sort="hot">
                        <i class="fas fa-fire"></i> Hot
                    </button>
                    <button class="filter-tab" data-sort="new">
                        <i class="fas fa-clock"></i> New
                    </button>
                    <button class="filter-tab" data-sort="top">
                        <i class="fas fa-arrow-up"></i> Top
                    </button>
                </div>
            </div>

            <!-- Community Posts -->
            <div class="community-posts">
                {{if .Threads}}
                    {{range .Threads}}
                    <div class="thread-card" data-thread-id="{{.ID}}">
                        <div class="thread-content-wrapper">
                            <div class="thread-vote-section">
                                {{if $.User}}
                                    <button class="vote-arrow {{if eq .UserVote 1}}upvoted{{end}}" onclick="voteThread('{{.ID}}', 1)" title="Upvote">
                                        <i class="fas fa-arrow-up"></i>
                                    </button>
                                {{else}}
                                    <a href="/login" class="vote-arrow" title="Login to vote">
                                        <i class="fas fa-arrow-up"></i>
                                    </a>
                                {{end}}
                                
                                <div class="vote-score" data-thread-id="{{.ID}}" data-score="{{.Score}}">{{.Score}}</div>
                                
                                {{if $.User}}
                                    <button class="vote-arrow {{if eq .UserVote -1}}downvoted{{end}}" onclick="voteThread('{{.ID}}', -1)" title="Downvote">
                                        <i class="fas fa-arrow-down"></i>
                                    </button>
                                {{else}}
                                    <a href="/login" class="vote-arrow" title="Login to vote">
                                        <i class="fas fa-arrow-down"></i>
                                    </a>
                                {{end}}
                            </div>
                            
                            <div class="thread-main-content">
                                <div class="thread-meta-line">
                                    <span>Posted by 
                                        <div class="inline-user-info">
                                            <div class="user-avatar-small {{getAvatarClass (getAvatarStyle .Author)}}">
                                                {{if .Author.AvatarURL}}
                                                    <img src="{{.Author.AvatarURL}}" alt="{{.Author.Username}}" class="avatar-img">
                                                {{else}}
                                                    <span class="avatar-initial">{{getUserInitial .Author}}</span>
                                                {{end}}
                                            </div>
                                            <a href="/user/{{.Author.Username}}" class="user-link">u/{{.Author.Username}}</a>
                                        </div>
                                    </span>
                                    <span>â€¢</span>
                                    <span title="{{.CreatedAt.Format "Jan 02, 2006 15:04:05"}}">{{timeAgo .CreatedAt}}</span>
                                    {{if eq .Status "closed"}}
                                        <span class="status-badge">ðŸ”’ Closed</span>
                                    {{end}}
                                    {{if ne .PostType "text"}}
                                        <span class="post-type-badge post-type-{{.PostType}}">
                                            {{if eq .PostType "image"}}ðŸ“·{{else if eq .PostType "link"}}ðŸ”—{{end}}
                                            {{upper .PostType}}
                                        </span>
                                    {{end}}
                                </div>
                                
                                <a href="/threads/{{.ID}}" class="thread-title-link">
                                    {{.Title}}
                                </a>
                                
                                {{if eq .PostType "image"}}
                                    {{if .ImageURL}}
                                    <div class="thread-image-preview">
                                        <img src="{{.ImageURL}}" alt="{{.Title}}" class="preview-image" onclick="openImageModal(this.src)" loading="lazy">
                                    </div>
                                    {{end}}
                                {{else if eq .PostType "link"}}
                                    {{if .LinkURL}}
                                    <div class="thread-link-preview">
                                        <div class="link-preview-compact">
                                            <i class="fas fa-external-link-alt"></i>
                                            <span class="link-domain">{{.LinkURL}}</span>
                                            <a href="{{.LinkURL}}" target="_blank" rel="noopener" class="link-visit-btn" onclick="event.stopPropagation()">
                                                <i class="fas fa-arrow-right"></i>
                                            </a>
                                        </div>
                                    </div>
                                    {{end}}
                                {{end}}
                                
                                {{if .Description}}
                                <div class="thread-preview">
                                    {{truncate .Description 200}}
                                </div>
                                {{end}}
                                
                                <div class="thread-footer">
                                    <div class="thread-action" onclick="window.location.href='/threads/{{.ID}}'">
                                        <i class="fas fa-comment"></i>
                                        <span>{{.MessageCount}} {{pluralize .MessageCount "comment" "comments"}}</span>
                                    </div>
                                    
                                    <div class="thread-action" onclick="shareThread('{{.ID}}')">
                                        <i class="fas fa-share"></i>
                                        <span>Share</span>
                                    </div>
                                    
                                    {{if $.User}}
                                        {{if or (eq $.User.ID .AuthorID) (eq $.User.Role "admin") (eq $.Community.UserRole "creator") (eq $.Community.UserRole "admin") (eq $.Community.UserRole "moderator")}}
                                        <div class="thread-action" onclick="showThreadOptions('{{.ID}}')">
                                            <i class="fas fa-ellipsis-h"></i>
                                        </div>
                                        {{end}}
                                    {{end}}
                                </div>
                            </div>
                        </div>
                    </div>
                    {{end}}
                {{else}}
                    <div class="empty-posts">
                        <i class="fas fa-newspaper"></i>
                        <h3>No posts yet</h3>
                        <p>Be the first to post in r/{{.Community.Name}}!</p>
                        {{if .User}}
                            {{if or (eq .Community.UserRole "creator") (eq .Community.UserRole "admin") (eq .Community.UserRole "moderator") (eq .Community.UserRole "member") (eq .Community.Visibility "public")}}
                                <a href="/threads/create?community={{.Community.Name}}" class="btn btn-primary">
                                    <i class="fas fa-plus"></i> Create the first post
                                </a>
                            {{end}}
                        {{end}}
                    </div>
                {{end}}
            </div>
        </div>

        <!-- Community Sidebar -->
        <div class="community-sidebar">
            <!-- About Community -->
            <div class="sidebar-section">
                <h3>About Community</h3>
                {{if .Community.Description}}
                    <p class="sidebar-description">{{.Community.Description}}</p>
                {{else}}
                    <p class="sidebar-description">Welcome to r/{{.Community.Name}}!</p>
                {{end}}
                <div class="community-stats">
                    <div class="stat-item">
                        <strong>{{.Community.MemberCount}}</strong>
                        <span>{{pluralize .Community.MemberCount "Member" "Members"}}</span>
                    </div>
                    <div class="stat-item">
                        <strong>{{.TotalThreads}}</strong>
                        <span>{{pluralize .TotalThreads "Post" "Posts"}}</span>
                    </div>
                </div>
                <div class="community-created">
                    <i class="fas fa-birthday-cake"></i>
                    <span>Created {{.Community.CreatedAt.Format "Jan 2, 2006"}}</span>
                </div>
            </div>

            <!-- Moderators -->
            {{if .Moderators}}
            <div class="sidebar-section">
                <h3>Moderators</h3>
                <div class="moderators-list">
                    {{range .Moderators}}
                    <div class="moderator-item">
                        <div class="user-avatar-small {{getAvatarClass (getAvatarStyle .User)}}">
                            {{if .User.AvatarURL}}
                                <img src="{{.User.AvatarURL}}" alt="{{.User.Username}}" class="avatar-img">
                            {{else}}
                                <span class="avatar-initial">{{getUserInitial .User}}</span>
                            {{end}}
                        </div>
                        <div class="moderator-info">
                            <a href="/user/{{.User.Username}}" class="moderator-username">u/{{.User.Username}}</a>
                            <span class="moderator-role">{{title .Role}}</span>
                        </div>
                    </div>
                    {{end}}
                </div>
            </div>
            {{end}}

            <!-- Pending Requests (for moderators) -->
            {{if and .User .PendingRequests}}
            <div class="sidebar-section">
                <h3>Pending Join Requests</h3>
                <div class="pending-requests">
                    {{range .PendingRequests}}
                    <div class="request-item">
                        <div class="request-user">
                            <div class="user-avatar-small {{getAvatarClass (getAvatarStyle .User)}}">
                                {{if .User.AvatarURL}}
                                    <img src="{{.User.AvatarURL}}" alt="{{.User.Username}}" class="avatar-img">
                                {{else}}
                                    <span class="avatar-initial">{{getUserInitial .User}}</span>
                                {{end}}
                            </div>
                            <span class="request-username">u/{{.User.Username}}</span>
                        </div>
                        {{if .Message}}
                            <p class="request-message">{{.Message}}</p>
                        {{end}}
                        <div class="request-actions">
                            <button class="btn btn-sm btn-primary" onclick="processRequest('{{.ID}}', true)">
                                <i class="fas fa-check"></i> Approve
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="processRequest('{{.ID}}', false)">
                                <i class="fas fa-times"></i> Deny
                            </button>
                        </div>
                    </div>
                    {{end}}
                </div>
            </div>
            {{end}}

            <!-- Community Rules -->
            <div class="sidebar-section">
                <h3>Community Rules</h3>
                <div class="rules-list">
                    <div class="rule-item">
                        <span class="rule-number">1.</span>
                        <span class="rule-text">Be respectful and civil</span>
                    </div>
                    <div class="rule-item">
                        <span class="rule-number">2.</span>
                        <span class="rule-text">Stay on topic</span>
                    </div>
                    <div class="rule-item">
                        <span class="rule-number">3.</span>
                        <span class="rule-text">No spam or self-promotion</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Filter tabs functionality
document.querySelectorAll('.filter-tab').forEach(tab => {
    tab.addEventListener('click', function() {
        document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        
        const sort = this.dataset.sort;
        const url = new URL(window.location);
        url.searchParams.set('sort', sort);
        window.location.href = url.toString();
    });
});

// Join community functionality
async function joinCommunity(communityId) {
    let message = '';
    
    // If approval required, ask for message
    if ('{{.Community.JoinApproval}}' === 'approval_required') {
        message = prompt('Please provide a message with your join request (optional):') || '';
    }
    
    try {
        const response = await fetch(`/api/communities/${communityId}/join`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ message: message })
        });
        
        if (response.ok) {
            location.reload();
        } else {
            const result = await response.text();
            if (window.GoForum) {
                GoForum.showNotification(result, 'error');
            } else {
                alert('Failed to join community: ' + result);
            }
        }
    } catch (error) {
        if (window.GoForum) {
            GoForum.showNotification('Failed to join community. Please try again.', 'error');
        } else {
            alert('Failed to join community. Please try again.');
        }
    }
}

// Leave community functionality
async function leaveCommunity(communityId) {
    if (!confirm('Are you sure you want to leave this community?')) {
        return;
    }
    
    try {
        const response = await fetch(`/api/communities/${communityId}/leave`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            }
        });
        
        if (response.ok) {
            location.reload();
        } else {
            const result = await response.text();
            if (window.GoForum) {
                GoForum.showNotification(result, 'error');
            } else {
                alert('Failed to leave community: ' + result);
            }
        }
    } catch (error) {
        if (window.GoForum) {
            GoForum.showNotification('Failed to leave community. Please try again.', 'error');
        } else {
            alert('Failed to leave community. Please try again.');
        }
    }
}

// Process join request
async function processRequest(requestId, approved) {
    try {
        const response = await fetch(`/api/communities/join-requests/${requestId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ approved: approved })
        });
        
        if (response.ok) {
            location.reload();
        } else {
            const result = await response.text();
            if (window.GoForum) {
                GoForum.showNotification(result, 'error');
            } else {
                alert('Failed to process request: ' + result);
            }
        }
    } catch (error) {
        if (window.GoForum) {
            GoForum.showNotification('Failed to process request. Please try again.', 'error');
        } else {
            alert('Failed to process request. Please try again.');
        }
    }
}

// Voting and other functions from main thread list
async function voteThread(threadId, voteType) {
    try {
        const response = await fetch(`/api/threads/${threadId}/vote`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ vote_type: voteType })
        });
        
        if (response.ok) {
            const result = await response.json();
            
            const threadCard = document.querySelector(`[data-thread-id="${threadId}"]`);
            if (threadCard) {
                const scoreElement = threadCard.querySelector('.vote-score');
                const upvoteBtn = threadCard.querySelector('.vote-arrow:first-child');
                const downvoteBtn = threadCard.querySelector('.vote-arrow:last-child');
                
                scoreElement.textContent = result.score;
                scoreElement.dataset.score = result.score;
                
                upvoteBtn.classList.toggle('upvoted', result.user_vote === 1);
                downvoteBtn.classList.toggle('downvoted', result.user_vote === -1);
            }
            
            if (window.GoForum) {
                const action = result.user_vote === voteType ? 
                    (voteType === 1 ? 'upvoted' : 'downvoted') : 'removed vote';
                GoForum.showNotification(`Post ${action}!`, 'success');
            }
        } else {
            const result = await response.text();
            if (window.GoForum) {
                GoForum.showNotification(result, 'error');
            }
        }
    } catch (error) {
        console.error('Error voting:', error);
        if (window.GoForum) {
            GoForum.showNotification('Failed to vote. Please try again.', 'error');
        }
    }
}

function shareThread(threadId) {
    if (window.GoForum) {
        GoForum.showNotification('Share feature coming soon!', 'info');
    }
}

function showThreadOptions(threadId) {
    if (window.GoForum) {
        GoForum.showNotification('Thread options coming soon!', 'info');
    }
}
</script>

<style>
.community-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.community-header {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 20px;
    overflow: hidden;
}

.community-banner {
    height: 100px;
    background: linear-gradient(135deg, #0079d3, #00a8ff);
    position: relative;
}

.banner-gradient {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50px;
    background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.1));
}

.community-info-section {
    padding: 20px;
    display: flex;
    gap: 20px;
    position: relative;
}

.community-icon-container {
    margin-top: -40px;
}

.community-icon-large {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #0079d3, #00a8ff);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 32px;
    border: 4px solid white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.community-details {
    flex: 1;
}

.community-names {
    margin-bottom: 12px;
}

.community-display-name {
    color: #1a1a1b;
    margin: 0 0 4px 0;
    font-size: 24px;
}

.community-path {
    color: #878a8c;
    font-size: 14px;
}

.community-badges {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

.visibility-badge {
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    gap: 4px;
}

.visibility-public {
    background: #d4edda;
    color: #155724;
}

.visibility-private {
    background: #f8d7da;
    color: #721c24;
}

.visibility-restricted {
    background: #fff3cd;
    color: #856404;
}

.approval-badge {
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 600;
    background: #e2e3e5;
    color: #383d41;
    display: flex;
    align-items: center;
    gap: 4px;
}

.community-description {
    color: #1a1a1b;
    margin-bottom: 16px;
    line-height: 1.5;
}

.community-metadata {
    display: flex;
    gap: 16px;
    color: #878a8c;
    font-size: 14px;
}

.community-meta-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.creator-link {
    color: #0079d3;
    text-decoration: none;
}

.creator-link:hover {
    text-decoration: underline;
}

.community-actions {
    display: flex;
    flex-direction: column;
    gap: 8px;
    min-width: 120px;
}

.member-status {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.member-badge {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 4px;
}

.member-creator {
    background: #d4edda;
    color: #155724;
}

.member-admin {
    background: #cce5ff;
    color: #004085;
}

.member-moderator {
    background: #fff3cd;
    color: #856404;
}

.member-member {
    background: #e2e3e5;
    color: #383d41;
}

.pending-badge {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    background: #fff3cd;
    color: #856404;
    display: flex;
    align-items: center;
    gap: 4px;
}

.community-content {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 20px;
}

.community-main {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.create-post-section {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    padding: 12px;
}

.create-post-link {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    color: #878a8c;
    padding: 8px;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.create-post-link:hover {
    background: #f6f7f8;
}

.create-post-text {
    flex: 1;
    font-size: 14px;
}

.posts-filter {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    padding: 12px;
}

.filter-tabs {
    display: flex;
    gap: 8px;
}

.filter-tab {
    padding: 8px 16px;
    border: none;
    background: none;
    color: #878a8c;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.filter-tab:hover {
    background: #f6f7f8;
}

.filter-tab.active {
    color: #0079d3;
    background: #f6f9ff;
}

.community-sidebar {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.sidebar-section {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    padding: 16px;
}

.sidebar-section h3 {
    color: #1a1a1b;
    margin: 0 0 12px 0;
    font-size: 16px;
}

.sidebar-description {
    color: #1a1a1b;
    margin-bottom: 16px;
    line-height: 1.5;
    font-size: 14px;
}

.community-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 16px;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 12px;
    background: #f6f7f8;
    border-radius: 4px;
}

.stat-item strong {
    color: #1a1a1b;
    font-size: 18px;
}

.stat-item span {
    color: #878a8c;
    font-size: 12px;
}

.community-created {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #878a8c;
    font-size: 12px;
}

.moderators-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.moderator-item {
    display: flex;
    align-items: center;
    gap: 12px;
}

.moderator-info {
    display: flex;
    flex-direction: column;
}

.moderator-username {
    color: #1a1a1b;
    text-decoration: none;
    font-weight: 600;
}

.moderator-username:hover {
    text-decoration: underline;
}

.moderator-role {
    color: #878a8c;
    font-size: 12px;
}

.pending-requests {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.request-item {
    padding: 12px;
    background: #f6f7f8;
    border-radius: 4px;
}

.request-user {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.request-username {
    color: #1a1a1b;
    font-weight: 600;
}

.request-message {
    color: #878a8c;
    font-size: 12px;
    margin-bottom: 8px;
}

.request-actions {
    display: flex;
    gap: 8px;
}

.rules-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.rule-item {
    display: flex;
    gap: 8px;
    color: #1a1a1b;
    font-size: 14px;
}

.rule-number {
    color: #878a8c;
    font-weight: 600;
}

@media (max-width: 768px) {
    .community-container {
        padding: 12px;
    }
    
    .community-info-section {
        flex-direction: column;
    }
    
    .community-actions {
        flex-direction: row;
        justify-content: flex-start;
    }
    
    .community-content {
        grid-template-columns: 1fr;
    }
    
    .community-metadata {
        flex-direction: column;
        gap: 8px;
    }
}
</style>
{{end}} 